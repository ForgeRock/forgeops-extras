{
  "metadata" : {
    "realm" : null,
    "entityType" : "ScriptingService",
    "entityId" : "default/globalScripts/248b8a56-df81-4b1b-b4ba-45d994f6504c",
    "uid" : "ou=248b8a56-df81-4b1b-b4ba-45d994f6504c,ou=globalScripts,ou=default,ou=GlobalConfig,ou=1.0,ou=ScriptingService,ou=services,ou=am-config",
    "sunServiceID" : "globalScript",
    "objectClass" : [ "sunServiceComponent", "top" ],
    "pathParams" : { },
    "ou" : [ "248b8a56-df81-4b1b-b4ba-45d994f6504c" ]
  },
  "data" : {
    "_id" : "default/globalScripts/248b8a56-df81-4b1b-b4ba-45d994f6504c",
    "_type" : {
      "_id" : "ScriptingService",
      "name" : "ScriptingService",
      "collection" : false
    },
    "createdBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "evaluatorVersion" : "V1_0",
    "creationDate" : "1433147666269",
    "language" : "JAVASCRIPT",
    "script" : "/*\n * Copyright 2021-2023 ForgeRock AS. All Rights Reserved\n *\n * Use of this code requires a commercial software license with ForgeRock AS.\n * or with one of its affiliates. All use shall be exclusively subject\n * to such license between the licensee and ForgeRock AS.\n */\n\n/*\n * The script has these top level functions that could be executed during a SAML2 flow.\n *      - preSingleSignOn\n *      - preAuthentication\n *      - preSendResponse\n *      - preSignResponse\n *      - preSendFailureResponse\n *\n * Please see the javadoc for the interface definition and more information about these methods.\n * https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/plugins/SAML2IdentityProviderAdapter.html\n * Note that the initialize method is not supported in the scripts.\n *\n * Defined variables. Check the documentation on the respective functions for the variables available to it.\n *\n * hostedEntityId - String\n *     Entity ID for the hosted IDP\n * realm - String\n *     Realm of the hosted IDP\n * idpAdapterScriptHelper - IdpAdapterScriptHelper (1)\n *     An instance of IdpAdapterScriptHelper containing helper methods. See Javadoc for more details.\n * request - HttpServletRequest (2)\n *     Servlet request object\n * response - HttpServletResponse (3)\n *     Servlet response object\n * authnRequest - AuthnRequest (4)\n *     The original authentication request sent from SP\n * reqId - String\n *     The id to use for continuation of processing if the adapter redirects\n * res - Response (5)\n *     The SAML Response\n * session - SSOToken (6)\n *     The single sign-on session. The reference type of this is Object and would need to be casted to SSOToken.\n * relayState - String\n *     The relayState that will be used in the redirect\n * faultCode - String\n *     the fault code that will be returned in the SAML response\n * faultDetail - String\n *     the fault detail that will be returned in the SAML response\n * logger - Logger instance\n *     https://backstage.forgerock.com/docs/am/7.3/scripting-guide/scripting-api-global-logger.html.\n *     Corresponding log files will be prefixed with: scripts.<script name>\n *\n * Throws SAML2Exception (7):\n *     for any exceptions occurring in the adapter. The federation process will continue\n *\n * Class reference:\n * (1) idpAdapterScriptHelper - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/plugins/scripted/IdpAdapterScriptHelper.html.\n * (2) HttpServletRequest - https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html.\n * (3) HttpServletResponse - https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/http/HttpServletResponse.html.\n * (4) AuthnRequest - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/AuthnRequest.html.\n * (5) Response - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/Response.html.\n * (6) SSOToken - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/iplanet/sso/SSOToken.html.\n * (7) SAML2Exception - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/common/SAML2Exception.html.\n */\n\n/*\n * Template/default script for SAML2 IDP Adapter scripted plugin.\n */\n\n/*\n * Available variables for preSingleSignOn:\n *     hostedEntityId\n *     realm\n *     idpAdapterScriptHelper\n *     request\n *     authnRequest\n *     response\n *     reqId\n *     logger\n *\n * Return - true if browser redirection is happening after processing, false otherwise. Default to false.\n */\nfunction preSingleSignOn () {\n    return false;\n}\n\n/*\n * Available variables for preAuthentication:\n *     hostedEntityId\n *     realm\n *     idpAdapterScriptHelper\n *     request\n *     authnRequest\n *     response\n *     reqId\n *     session\n *     relayState\n *     logger\n *\n * Return - true if browser redirection is happening after processing, false otherwise. Default to false.\n */\nfunction preAuthentication () {\n    return false;\n}\n\n/*\n * Available variables for preSendResponse:\n *     hostedEntityId\n *     realm\n *     idpAdapterScriptHelper\n *     request\n *     authnRequest\n *     response\n *     reqId\n *     session\n *     relayState\n *     logger\n *\n * Return - true if browser redirection happened after processing, false otherwise. Default to false.\n */\nfunction preSendResponse () {\n    return false;\n}\n\n/*\n * Available variables for preSignResponse:\n *     hostedEntityId\n *     realm\n *     idpAdapterScriptHelper\n *     request\n *     authnRequest\n *     session\n *     relayState\n *     res\n *     logger\n */\nfunction preSignResponse () {\n}\n\n/*\n * Available variables for preSendFailureResponse:\n *     hostedEntityId\n *     realm\n *     idpAdapterScriptHelper\n *     request\n *     response\n *     faultCode\n *     faultDetail\n *     logger\n */\nfunction preSendFailureResponse () {\n}",
    "description" : "Default global script for SAML2 IDP Adapter",
    "lastModifiedBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "context" : "SAML2_IDP_ADAPTER",
    "lastModifiedDate" : "1433147666269",
    "name" : "SAML2 IDP Adapter Script"
  }
}