{
  "metadata" : {
    "realm" : null,
    "entityType" : "ScriptingService",
    "entityId" : "default/globalScripts/69f06e63-128c-4e2f-af52-079a8a6f448b",
    "uid" : "ou=69f06e63-128c-4e2f-af52-079a8a6f448b,ou=globalScripts,ou=default,ou=GlobalConfig,ou=1.0,ou=ScriptingService,ou=services,ou=am-config",
    "sunServiceID" : "globalScript",
    "objectClass" : [ "sunServiceComponent", "top" ],
    "pathParams" : { },
    "ou" : [ "69f06e63-128c-4e2f-af52-079a8a6f448b" ]
  },
  "data" : {
    "_id" : "default/globalScripts/69f06e63-128c-4e2f-af52-079a8a6f448b",
    "_type" : {
      "_id" : "ScriptingService",
      "name" : "ScriptingService",
      "collection" : false
    },
    "createdBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "evaluatorVersion" : "V1_0",
    "creationDate" : "1433147666269",
    "language" : "JAVASCRIPT",
    "script" : "/*\n * Copyright 2023 ForgeRock AS. All Rights Reserved\n *\n * Use of this code requires a commercial software license with ForgeRock AS.\n * or with one of its affiliates. All use shall be exclusively subject\n * to such license between the licensee and ForgeRock AS.\n */\n\n/*\n * The script has these top level functions that could be executed during a SAML2 flow.\n *      - preSingleSignOnRequest\n *      - preSingleSignOnProcess\n *      - postSingleSignOnSuccess\n *      - postSingleSignOnFailure\n *      - postNewNameIDSuccess\n *      - postTerminateNameIDSuccess\n *      - preSingleLogoutProcess\n *      - postSingleLogoutSuccess\n *\n * Please see the JavaDoc for the interface for more information about these methods.\n * https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/org/forgerock/openam/saml2/plugins/SPAdapter.html\n * Note that the initialize method is not supported in the scripts.\n *\n * Defined variables. Check the documentation on the respective functions for the variables available to it.\n *\n * hostedEntityId - String\n *     Entity ID for the hosted IDP\n * realm - String\n *     Realm of the hosted IDP\n * idpEntityId - String\n *     The entity ID for the Identity Provider for which the sign-on request will be sent.\n * request - HttpServletRequest (1)\n *     Servlet request object\n * response - HttpServletResponse (2)\n *     Servlet response object\n * authnRequest - AuthnRequest (3)\n *     The authentication request sent that is sent from the Service Provider.\n * session - SSOToken (4)\n *     The single sign-on session. The reference type of this is Object and would need to be casted to SSOToken.\n * res - Response (5)\n *     The SSO Response received from the Identity Provider.\n * profile - String\n *     The protocol profile that is used, this will be one of the following values from SAML2Constants (6):\n *          - SAML2Constants.HTTP_POST\n *          - SAML2Constants.HTTP_ARTIFACT\n *          - SAML2Constants.PAOS\n * out - PrintWriter (7)\n *     The PrintWriter that can be used to write to.\n * isFederation - boolean\n *     Set to true if using federation, otherwise false.\n * failureCode - int\n *     An integer holding the failure code when an error has occurred. For potential values see SPAdapter.\n * userId - String\n *     The unique universal ID of the user with whom the new name identifier request was performed.\n * idRequest - ManageNameIDRequest (8)\n *     The new name identifier request, this will be null if the request object is not available\n * idResponse - ManageNameIDResponse (9)\n *     The new name identifier response, this will be null if the response object is not available\n * binding - String\n *     The binding used for the new name identifier request. This will be one of the following values:\n *          - SAML2Constants.SOAP\n *          - SAML2Constants.HTTP_REDIRECT\n * logoutRequest - LogoutRequest (10)\n *     The single logout request.\n * logoutResponse - LogoutResponse (11)\n *     The single logout response.\n * spAdapterScriptHelper - SpAdapterScriptHelper (12)\n *     An instance of SpAdapterScriptHelper containing helper methods. See Javadoc for more details.\n * logger - Logger instance\n *     https://backstage.forgerock.com/docs/am/7/scripting-guide/scripting-api-global-logger.html#scripting-api-global-logger.\n *     Corresponding log files will be prefixed with: scripts.<script name>\n *\n * Throws SAML2Exception (13):\n *     for any exceptions occurring in the adapter. The federation process will continue\n *\n * Class reference:\n * (1) HttpServletRequest - https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html.\n * (2) HttpServletResponse - https://tomcat.apache.org/tomcat-7.0-doc/servletapi/javax/servlet/http/HttpServletResponse.html.\n * (3) AuthnRequest - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/AuthnRequest.html.\n * (4) SSOToken - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/iplanet/sso/SSOToken.html.\n * (5) Response - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/Response.html\n * (6) SAML2Constants - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/common/SAML2Constants.html\n * (7) PrintWriter - https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html\n * (8) ManageNameIDRequest - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/ManageNameIDRequest.html\n * (9) ManageNameIDResponse - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/ManageNameIDResponse.html\n * (10) LogoutRequest - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/LogoutRequest.html\n * (11) LogoutResponse - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/protocol/LogoutResponse.html\n * (12) SpAdapterScriptHelper - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/plugins/scripted/SpAdapterScriptHelper.html.\n * (13) SAML2Exception - https://backstage.forgerock.com/docs/am/7.3/_attachments/apidocs/com/sun/identity/saml2/common/SAML2Exception.html.\n */\n\n/*\n * Template/default script for SAML2 SP Adapter scripted plugin.\n */\n\n/*\n * Available variables for preSingleSignOnRequest:\n *     hostedEntityId\n *     idpEntityId\n *     realm\n *     request\n *     response\n *     authnRequest\n *     spAdapterScriptHelper\n *     logger\n */\nfunction preSingleSignOnRequest() {\n}\n\n/*\n * Available variables for preSingleSignOnProcess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     authnRequest\n *     res\n *     profile\n *     spAdapterScriptHelper\n *     logger\n */\nfunction preSingleSignOnProcess() {\n}\n\n/*\n * Available variables for postSingleSignOnSuccess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     out\n *     session\n *     authnRequest\n *     res\n *     profile\n *     isFederation\n *     spAdapterScriptHelper\n *     logger\n *\n * Return - true if response is being redirected, false if not. Default to false.\n */\nfunction postSingleSignOnSuccess() {\n    return false;\n}\n\n/*\n * Available variables for postSingleSignOnFailure:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     authnRequest\n *     res\n *     profile\n *     failureCode\n *     spAdapterScriptHelper\n *     logger\n *\n * Return - true if response is being redirected, false if not. Default to false.\n */\nfunction postSingleSignOnFailure() {\n    return false;\n}\n\n/*\n * Available variables for postNewNameIDSuccess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     userId\n *     idRequest\n *     idResponse\n *     binding\n *     spAdapterScriptHelper\n *     logger\n */\nfunction postNewNameIDSuccess() {\n}\n\n/*\n * Available variables for postTerminateNameIDSuccess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     userId\n *     idRequest\n *     idResponse\n *     binding\n *     spAdapterScriptHelper\n *     logger\n */\nfunction postTerminateNameIDSuccess() {\n}\n\n/*\n * Available variables for preSingleLogoutProcess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     userId\n *     logoutRequest\n *     logoutResponse\n *     binding\n *     spAdapterScriptHelper\n *     logger\n */\nfunction preSingleLogoutProcess() {\n}\n\n/*\n * Available variables for postSingleLogoutSuccess:\n *     hostedEntityId\n *     realm\n *     request\n *     response\n *     userId\n *     logoutRequest\n *     logoutResponse\n *     binding\n *     spAdapterScriptHelper\n *     logger\n */\nfunction postSingleLogoutSuccess() {\n}",
    "description" : "Default global script for SAML2 SP Adapter",
    "lastModifiedBy" : "id=dsameuser,ou=user,dc=openam,dc=forgerock,dc=org",
    "context" : "SAML2_SP_ADAPTER",
    "lastModifiedDate" : "1433147666269",
    "name" : "SAML2 SP Adapter Script"
  }
}